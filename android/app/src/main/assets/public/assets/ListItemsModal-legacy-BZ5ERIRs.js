System.register(["./index-legacy-CrO6uvyO.js"],(function(e,t){"use strict";var a,i,l,o,n,s,d,r,c,u,m,p,v,f,y,h,_,g,x,b,w,C,k,D,I,O,E,S,A,U,L,j,z,V,$,q,B,K,N,T,Y,H,M;return{setters:[e=>{a=e.d,i=e.r,l=e.a7,o=e.a8,n=e.o,s=e.c,d=e.w,r=e.b,c=e.u,u=e.v,m=e.x,p=e.h,v=e.y,f=e.z,y=e.j,h=e.H,_=e.Q,g=e.A,x=e.e,b=e.I,w=e.i,C=e.a9,k=e.K,D=e.f,I=e.N,O=e.L,E=e.O,S=e.P,A=e.k,U=e.C,L=e.Z,j=e.aa,z=e.ab,V=e.g,$=e.ac,q=e._,B=e.$,K=e.a0,N=e.a2,T=e.q,Y=e.t,H=e.X,M=e.ad}],execute:function(){var t=document.createElement("style");t.textContent=".line-through[data-v-b140111a]{text-decoration:line-through;color:var(--ion-color-medium);font-style:italic;opacity:.7;transition:all .3s ease}.item-date[data-v-b140111a]{font-size:.8em;color:var(--ion-color-medium)}ion-item-sliding[data-v-b140111a]{transition:all .3s ease}ion-item[data-v-b140111a]{transition:transform .3s ease,opacity .3s ease}ion-item.completed[data-v-b140111a]{--ion-item-background: var(--ion-color-light)}ion-item.completed ion-label[data-v-b140111a]{text-decoration:line-through;color:var(--ion-color-medium);font-style:italic;opacity:.7}@keyframes slideDown-b140111a{0%{transform:translateY(0);opacity:1}to{transform:translateY(100%);opacity:0}}.item-sliding-animated[data-v-b140111a]{animation:slideDown-b140111a .3s ease}\n",document.head.appendChild(t);const P=a({__name:"ListItemsModal",props:{isOpen:{type:Boolean},list:{}},emits:["update:isOpen","listUpdated"],setup(e,{emit:t}){const a=e,P=t,Q=i(""),R=i([]);l((()=>{var e;return null===(e=a.list)||void 0===e?void 0:e.items}),(e=>{e&&(R.value=[...e])}),{deep:!0,immediate:!0});const X=async()=>{if(!a.list||!Q.value.trim())return;const e={id:Date.now().toString(),text:Q.value.trim(),completed:!1,createdAt:(new Date).toISOString()};try{R.value=[...R.value,e],Q.value="";const t=T(Y,"lists",a.list.id);await H(t,{items:R.value}),P("listUpdated")}catch(t){console.error("Erro ao adicionar item:",t),R.value=R.value.filter((t=>t.id!==e.id))}},Z=async e=>{if(a.list)try{R.value=R.value.filter((t=>t.id!==e.id));const t=T(Y,"lists",a.list.id);await H(t,{items:R.value}),P("listUpdated")}catch(t){console.error("Erro ao deletar item:",t),a.list&&(R.value=[...a.list.items])}},F=o((()=>[...R.value].sort(((e,t)=>e.completed!==t.completed?e.completed?1:-1:new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))));return(e,t)=>(n(),s(c(U),{"is-open":e.isOpen,onDidDismiss:t[2]||(t[2]=t=>e.$emit("update:isOpen",!1))},{default:d((()=>[r(c(g),null,{default:d((()=>[r(c(u),null,{default:d((()=>[r(c(m),null,{default:d((()=>{var t;return[p(v(null===(t=e.list)||void 0===t?void 0:t.name),1)]})),_:1}),r(c(f),{slot:"end"},{default:d((()=>[r(c(y),{onClick:t[0]||(t[0]=t=>e.$emit("update:isOpen",!1))},{default:d((()=>[r(c(h),{icon:c(_)},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),r(c(A),{class:"ion-padding"},{default:d((()=>[x("form",{onSubmit:D(X,["prevent"]),class:"mb-4"},[r(c(b),null,{default:d((()=>[r(c(w),{modelValue:Q.value,"onUpdate:modelValue":t[1]||(t[1]=e=>Q.value=e),placeholder:"Adicionar novo item",required:"","clear-input":"",onKeyup:C(X,["enter"])},null,8,["modelValue"]),r(c(y),{type:"submit",slot:"end",disabled:!Q.value.trim()},{default:d((()=>[r(c(h),{icon:c(k)},null,8,["icon"])])),_:1},8,["disabled"])])),_:1})],32),r(c(I),null,{default:d((()=>[(n(!0),O(S,null,E(F.value,(e=>(n(),s(c(L),{key:e.id},{default:d((()=>[r(c(b),{class:j({completed:e.completed})},{default:d((()=>[r(c(z),{checked:e.completed,onIonChange:t=>(async e=>{if(a.list)try{const t=R.value.findIndex((t=>t.id===e));if(-1===t)return;const i={...R.value[t],completed:!R.value[t].completed};R.value=R.value.map((t=>t.id===e?i:t));const l=T(Y,"lists",a.list.id);await H(l,{items:R.value}),P("listUpdated")}catch(t){console.error("Erro ao atualizar item:",t),a.list&&(R.value=[...a.list.items])}})(e.id),slot:"start"},null,8,["checked","onIonChange"]),r(c(V),{class:j({"line-through":e.completed})},{default:d((()=>[p(v(e.text),1)])),_:2},1032,["class"]),r(c($),{slot:"end",class:"item-date"},{default:d((()=>{return[p(v((t=e.createdAt,new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}))),1)];var t})),_:2},1024)])),_:2},1032,["class"]),r(c(q),{side:"end"},{default:d((()=>[r(c(B),{color:"primary",onClick:t=>(async e=>{const t=await M.create({header:"Editar Item",inputs:[{name:"text",type:"text",value:e.text,placeholder:"Nome do item"}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Salvar",handler:async t=>{if(t.text.trim()&&a.list)try{R.value=R.value.map((a=>a.id===e.id?{...a,text:t.text.trim()}:a));const i=T(Y,"lists",a.list.id);await H(i,{items:R.value}),P("listUpdated")}catch(i){console.error("Erro ao editar item:",i),R.value=R.value.map((t=>t.id===e.id?e:t))}}}]});await t.present()})(e)},{default:d((()=>[r(c(h),{icon:c(K),slot:"icon-only"},null,8,["icon"])])),_:2},1032,["onClick"]),r(c(B),{color:"danger",onClick:t=>(async e=>{const t=await M.create({header:"Confirmar exclusÃ£o",message:"Deseja realmente excluir este item?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Excluir",role:"destructive",handler:()=>Z(e)}]});await t.present()})(e)},{default:d((()=>[r(c(h),{icon:c(N),slot:"icon-only"},null,8,["icon"])])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["is-open"]))}}),Q=e("_",((e,t)=>{const a=e.__vccOpts||e;for(const[i,l]of t)a[i]=l;return a}));e("L",Q(P,[["__scopeId","data-v-b140111a"]]))}}}));
