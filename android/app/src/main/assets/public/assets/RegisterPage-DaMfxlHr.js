import{d as v,r as m,c as y,w as s,u as t,a as I,o as V,b as a,e as l,f as b,I as p,g as f,h as r,i as c,j as x,k,l as C,n as E,m as S,p as _,q as R,t as h}from"./index-BGNe5PAX.js";const A={class:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8"},B={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},N={class:"mt-10 text-center text-sm text-gray-500"},j=v({__name:"RegisterPage",setup(P){const d=I(),n=m(""),u=m(""),g=async()=>{try{const o=await E(S,n.value,u.value);await _(R(h,"users",o.user.uid),{email:o.user.email,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),displayName:"",photoURL:"",lists:[]}),d.push("/tabs/lists")}catch(o){console.error("Erro no registro:",o.message),o.code==="auth/email-already-in-use"?alert("Este email já está em uso"):o.code==="auth/weak-password"?alert("A senha deve ter pelo menos 6 caracteres"):alert("Erro ao criar conta. Por favor, tente novamente.")}},w=()=>{d.push("/login")};return(o,e)=>(V(),y(t(C),null,{default:s(()=>[a(t(k),null,{default:s(()=>[l("div",A,[e[7]||(e[7]=l("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[l("h2",{class:"mt-10 text-center text-2xl font-bold leading-9"}," Criar conta ")],-1)),l("div",B,[l("form",{class:"space-y-6",onSubmit:b(g,["prevent"])},[a(t(p),null,{default:s(()=>[a(t(f),{position:"stacked"},{default:s(()=>e[2]||(e[2]=[r("Email")])),_:1}),a(t(c),{type:"email",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=i=>n.value=i),required:""},null,8,["modelValue"])]),_:1}),a(t(p),null,{default:s(()=>[a(t(f),{position:"stacked"},{default:s(()=>e[3]||(e[3]=[r("Senha")])),_:1}),a(t(c),{type:"password",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=i=>u.value=i),required:""},null,8,["modelValue"])]),_:1}),l("div",null,[a(t(x),{expand:"block",type:"submit"},{default:s(()=>e[4]||(e[4]=[r("Registrar")])),_:1})])],32),l("p",N,[e[6]||(e[6]=r(" Já tem uma conta? ")),a(t(x),{fill:"clear",onClick:w},{default:s(()=>e[5]||(e[5]=[r(" Entrar ")])),_:1})])])])]),_:1})]),_:1}))}});export{j as default};
